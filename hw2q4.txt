If the number of open parentheses equals the number of closed parentheses or the number of open brackets equals the number of closed brackets AND we have traversed through the entire string, then the string is correctly parenthesized.

If the current character is an open parenthesis and the character after it is a closed parenthesis, or if the current character is an open bracket and the character after it is a closed bracket, then the substring is correctly parenthesized. Otherwise, we must do the same comparison to the current character and the character after the one we just checked. Open parentheses can only match with closed parentheses, and open brackets can only match with closed brackets.
